@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    body {
        @apply bg-background text-foreground font-sans antialiased selection:bg-white selection:text-black;
    }
}

.markdown-content h1 {
    @apply text-3xl font-bold text-blue-100 mt-10 mb-4 tracking-tight border-b border-zinc-800 pb-2;
}

.markdown-content h2 {
    @apply text-2xl font-semibold text-blue-200 mt-8 mb-4 tracking-tight;
}

.markdown-content h3 {
    @apply text-xl font-medium text-blue-300 mt-6 mb-3;
}

.markdown-content p {
    @apply mb-4 leading-7 text-muted-foreground break-words;
    overflow-wrap: break-word;
}

.markdown-content ul {
    @apply list-disc list-outside ml-4 mb-4 space-y-2 text-muted-foreground marker:text-zinc-500;
}

.markdown-content ol {
    @apply list-decimal list-outside ml-4 mb-4 space-y-2 text-muted-foreground marker:text-zinc-500;
}

.markdown-content a {
    @apply text-white underline underline-offset-4 decoration-zinc-700 hover:decoration-white transition-colors;
}

.markdown-content code {
    /* Inline code style */
    /* Handled in component props for block code vs inline compatibility, but keeping fallback here */
}

.markdown-content pre {
    @apply m-0;
    /* formatting mainly handled in component wrapper */
}

.markdown-content strong {
    @apply font-semibold text-white;
}

.markdown-content blockquote {
    @apply border-l-2 border-zinc-700 pl-4 italic text-zinc-400 my-6;
}

.markdown-content hr {
    @apply border-zinc-800 my-8;
}

/* KaTeX Adjustment */
.katex-display {
    @apply overflow-x-auto py-4 max-w-full;
}

/* Table Styles */
.markdown-content table {
    @apply w-full text-base text-left border-collapse my-8 rounded-lg overflow-hidden border border-zinc-700;
}

.markdown-content thead {
    @apply bg-zinc-800 border-b-2 border-zinc-700 text-zinc-100 uppercase tracking-wider text-sm font-semibold;
}

.markdown-content th {
    @apply px-6 py-4 border-r border-zinc-700 last:border-r-0;
}

.markdown-content tbody tr {
    @apply border-b border-zinc-700 hover:bg-zinc-800/50 transition-colors bg-zinc-900/40 odd:bg-zinc-900/60;
}

.markdown-content td {
    @apply px-6 py-4 border-r border-zinc-700 last:border-r-0 text-zinc-300 align-top;
}

/* Code Block wrapper adjustment in CSS as backup */
.markdown-content pre {
    @apply bg-zinc-900 border border-zinc-800 rounded-lg p-4 overflow-x-auto my-6 max-w-full;
}

.markdown-content pre code {
    @apply bg-transparent border-none p-0 text-zinc-200 text-sm font-mono leading-relaxed;
}

/* Custom Scrollbars */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: #18181b;
    /* zinc-900 */
}

::-webkit-scrollbar-thumb {
    background: #3f3f46;
    /* zinc-700 */
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #52525b;
    /* zinc-600 */
}

::-webkit-scrollbar-corner {
    background: #18181b;
}

@media print {

    /* Hide everything by default */
    body * {
        visibility: hidden;
    }

    /* Show only the output display and its children */
    #output-display,
    #output-display * {
        visibility: visible;
    }

    /* Position the output display to fill the page */
    #output-display {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        margin: 0;
        padding: 0;
        border: none;
        background-color: white !important;
        /* Allow natural text colors, but default to black if undefined */
        color: black;
        overflow: visible !important;
    }

    /* Force Light Mode Styles for Print, but allow colors */
    .markdown-content {
        color: black;
    }

    .markdown-content p,
    .markdown-content li {
        color: black;
        text-shadow: none !important;
    }

    /* Headings can have color if desired, or keep black */
    .markdown-content h1,
    .markdown-content h2,
    .markdown-content h3,
    .markdown-content h4 {
        color: black;
        /* Or change to a dark color if preferred */
        text-shadow: none !important;
    }

    /* Code Blocks - RESTORE COLORS */
    .markdown-content pre {
        background-color: #f4f4f5 !important;
        /* zinc-100 */
        border: 1px solid #e4e4e7 !important;
        /* Do NOT force black here, let syntax highlighting work */
        white-space: pre-wrap !important;
    }

    .markdown-content pre code {
        /* Allow syntax highlighting colors to pass through */
        color: inherit;
        text-shadow: none !important;
    }

    .markdown-content code {
        color: #ef4444 !important;
        /* Inline code red */
        background-color: #f4f4f5 !important;
        border: none !important;
    }

    /* Keep Tables Clean */
    .markdown-content table {
        border-collapse: collapse !important;
        width: 100% !important;
    }

    .markdown-content th,
    .markdown-content td {
        border: 1px solid #000 !important;
        background-color: white !important;
    }

    .markdown-content th {
        background-color: #f4f4f5 !important;
        font-weight: bold !important;
    }
}